[tool.mypy]
python_version = "3.13"
pretty = true
warn_redundant_casts = true
disallow_untyped_calls = true
disallow_untyped_defs = true
no_implicit_optional = true
exclude = "clan_cli.nixpkgs"

[tool.ruff]
target-version = "py313"
line-length = 88
lint.select = [ "ALL" ]
lint.ignore = [
  "A003",
  # A005 Module `inspect` shadows a Python standard-library module
  # We might actually want to fix this.
  "A005",
  "ANN401",
  "C901",
  "COM812",
  "D100",
  "D101",
  "D102",
  "D103",
  "D104",
  "D105",
  "D107",
  "D200",
  "D203",
  "D213",
  "D401",
  "D415",
  "E402",
  "E501",
  "E731",
  "ERA001",
  "FBT001",
  "FBT002",
  "FIX",
  "G001",
  "G004",
  "ISC001",
  "PLR0911",
  "PLR2004",
  "PT001",
  "PT023",
  "S603",
  "S607",
  "T201",
  "TD",
  "TRY400",

  # Maybe we can fix those
  "D205",
  "D400",
  "PLR0912",
  "PLR0913",
  "PLR0915",
  "FBT003",
  "INP001",
]

[tool.ruff.lint.per-file-ignores]
"*_test.py" = [
  "SLF001",
  "S101",
  "S105"
]
"test_*.py" = [
  "SLF001",
  "S101",
  "S105"
]
"*/tests/*.py" = [
  "S101"
]
"*/fixtures/*.py" = [
  "S101"
]
