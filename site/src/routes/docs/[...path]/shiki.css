@media (prefers-color-scheme: dark) {
  .shiki,
  .shiki span {
    color: var(--shiki-dark) !important;
    background-color: var(--shiki-dark-bg) !important;
    /* Optional, if you also want font styles */
    font-style: var(--shiki-dark-font-style) !important;
    font-weight: var(--shiki-dark-font-weight) !important;
    text-decoration: var(--shiki-dark-text-decoration) !important;
  }
}

html.dark .shiki,
html.dark .shiki span {
  color: var(--shiki-dark) !important;
  background-color: var(--shiki-dark-bg) !important;
  /* Optional, if you also want font styles */
  font-style: var(--shiki-dark-font-style) !important;
  font-weight: var(--shiki-dark-font-weight) !important;
  text-decoration: var(--shiki-dark-text-decoration) !important;
}

.shiki {
  margin: 0 -15px;
  padding: 15px;
}
.shiki code {
  display: block;
}
.shiki .line {
  width: 100%;
  display: inline-block;
}

/* line number */
@media (min-width: 800px) {
  .shiki code {
    counter-reset: step;
    counter-increment: step 0;
  }
  .shiki .line::before {
    content: counter(step);
    counter-increment: step;
    width: 1rem;
    margin-right: 1em;
    display: inline-block;
    text-align: right;
    color: rgba(115, 138, 148, 0.4);
  }
}

/* indent guides */
.shiki .indent {
  display: inline-block;
  position: relative;
  left: var(--indent-offset);
}

.shiki .indent:empty {
  height: 1lh;
  vertical-align: bottom;
}

.shiki .indent::before {
  content: "";
  position: absolute;
  opacity: 0.15;
  width: 1px;
  height: 100%;
  background-color: currentColor;
}

/* diff */
.shiki .line.diff.remove {
  background-color: #db0a0a41;
}
.shiki .line.diff.add {
  background-color: #0adb4954;
}
.shiki .line.highlighted {
  background-color: #00000024;
}
